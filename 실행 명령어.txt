실행 전 - f1_sim_ws/src/f1tenth_gym_ros/config/sim.yaml 들어가서
map_path: "/home/<사용자이름>/f1_sim_ws/src/f1tenth_gym_ros/maps/Spielberg_map"
<사용자이름> 부분을 내 우분투 아이디로 변경

윈도우 환경에서 RIVZ2 회색화면만 보이는 경우
파일 실행 전
export LIBGL_ALWAYS_SOFTWARE=1


<터미널 1> - 시뮬레이터 (필수)
cd ~/f1_sim_ws
colcon build
source install/setup.bash
ros2 launch f1tenth_gym_ros gym_bridge_launch.py

<터미널 2> - 기존 Nav2 (사용 안할거임)
cd ~/f1_sim_ws
source install/setup.bash
ros2 launch src/racecar_control_py/launch/nav2_launch.py

<터미널 2> - dwa 알고리즘 (필수)
cd ~/f1_sim_ws
source install/setup.bash
ros2 launch racecar_dwa_cpp dwa_local_planner.launch.py

<터미널 3> - /cmd_vel -> /drive로 변경함 (nav2 이용시 사용) 
cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_teleop_cpp teleop_converter

<터미널 4> - 상대 차 조종 (필수)
cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_teleop_cpp opp_teleop

<터미널 5> - 경로 도착 시간
cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_experiments path_timer

<터미널 6> - 충돌 감지
cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_experiments collision_monitor

<터미널 7> - 전역 경로 저장
cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_experiments path_saver

<터미널 8> - 전역 경로 발행 .csv 를 발행함
cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_experiments static_path_publisher --ros-args -p csv_path:="$(pwd)/path_segment.csv" // 사용자 지정 경로

ros2 run racecar_experiments static_path_publisher --ros-args -p csv_path:="$(pwd)/raceline_with_speed.csv" // 트랙 전용

<터미널 9> - 최단시간 랩타임 알고리즘 (offline)
cd ~/f1_sim_ws
source install/setup.bash
ros2 run f1tenth_planner offline_planner --ros-args -p map_path:=$(pwd)/src/f1tenth_gym_ros/maps/Spielberg_map.yaml

<터미널 10> - PP 로 최단시간 랩타임 알고리즘 실행
cd ~/f1_sim_ws
source install/setup.bash
ros2 run f1tenth_planner pure_pursuit_node --ros-args -p csv_path:=$(pwd)/raceline_with_speed.csv



<Frenet 지역 경로 실행하기 위해 필요한 최소한의 터미널 구성>

터미널 1
cd ~/f1_sim_ws
source install/setup.bash 
ros2 launch f1tenth_gym_ros gym_bridge_launch.py 

터미널 2 - Frenet 알고리즘
cd ~/f1_sim_ws
source install/setup.bash
ros2 launch racecar_frenet_cpp frenet_local_planner.launch.py 

터미널 3 - 상대차 조작
cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_teleop_cpp opp_teleop 

터미널 4 
cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_experiments static_path_publisher --ros-args -p csv_path:="$(pwd)/raceline_with_speed.csv"

터미널 5 (이미 CSV 파일이 있다면 실행 안해도 됨)
cd ~/f1_sim_ws
source install/setup.bash 
ros2 run f1tenth_planner offline_planner --ros-args -p map_path:=$(pwd)/src/f1tenth_gym_ros/maps/Spielberg_map.yaml

터미널 6 - 실질적인 시작버튼. 상대차, 자차 주행을 시작함
cd ~/f1_sim_ws
source install/setup.bash
ros2 run f1tenth_planner pure_pursuit_node --ros-args -p use_frenet_path:=true -p frenet_path_topic:=/frenet_local_plan 

<mpc>
bridge
cd ~/f1_sim_ws
colcon build
source install/setup.bash 
ros2 launch f1tenth_gym_ros gym_bridge_launch.py 
/plan publisehr
cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_experiments static_path_publisher --ros-args -p csv_path:="$(pwd)/raceline_with_yaw.csv"
mpc
cd ~/f1_sim_ws
source install/setup.bash
ros2 run mpc_controller mpc_node --ros-args -p use_sim_time:=true

cd ~/f1_sim_ws
source install/setup.bash
ros2 run racecar_teleop_cpp opp_teleop 


<fgm>
ros2 run f1tenth_planner fgm_node --ros-args   -p planning_distance:=3.0   -p gap_threshold:=1.2   -p bubble_radius:=0.45   -p fov_angle:=180.0 -p max_speed:=6.0   -p min_speed:=1.0   -p slow_down_dist:=5.0

